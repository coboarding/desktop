# ðŸ“‘ Spis treÅ›ci

- [Struktura plikÃ³w projektu](#struktura-plikÃ³w-projektu-videochat-llm-z-ascii-vnc)
- [Kluczowe pliki i ich zawartoÅ›Ä‡](#kluczowe-pliki-i-ich-zawartoÅ›Ä‡)
- [Kluczowe funkcjonalnoÅ›ci](#kluczowe-funkcjonalnoÅ›ci)
- [Testowanie i walidacja](#testowanie-i-walidacja)
- [Instalacja i uruchamianie](#instalacja-i-uruchamianie)
- [NajczÄ™stsze problemy](#najczÄ™stsze-problemy)
- [Konfiguracja RTSP Video](#konfiguracja-rtsp-video)

# Struktura plikÃ³w projektu VideoChat LLM z ASCII VNC

```
videochat-llm-app/
â”œâ”€â”€ bin/
â”‚   â””â”€â”€ start-app                  # GÅ‚Ã³wny skrypt uruchomieniowy
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.js                    # GÅ‚Ã³wny proces Electron
â”‚   â”œâ”€â”€ preload.js                 # Skrypt preload do bezpiecznej komunikacji
â”‚   â”œâ”€â”€ renderer/                  # Kod interfejsu uÅ¼ytkownika
â”‚   â”‚   â”œâ”€â”€ index.html             # GÅ‚Ã³wny plik HTML
â”‚   â”‚   â”œâ”€â”€ styles.css             # Style CSS
â”‚   â”‚   â”œâ”€â”€ app.js                 # GÅ‚Ã³wny komponent React
â”‚   â”‚   â”œâ”€â”€ components/            # Komponenty React
â”‚   â”‚   â”‚   â”œâ”€â”€ VideoChat.jsx      # GÅ‚Ã³wny komponent wideorozmowy
â”‚   â”‚   â”‚   â”œâ”€â”€ AsciiAnimation.jsx # Komponent animacji ASCII
â”‚   â”‚   â”‚   â”œâ”€â”€ NoVNCDisplay.jsx   # Komponent do integracji noVNC
â”‚   â”‚   â”‚   â”œâ”€â”€ ChatHistory.jsx    # Komponent historii rozmowy
â”‚   â”‚   â”‚   â”œâ”€â”€ RTSPVideoDescription.jsx # Komponent konfiguracji RTSP Video
â”‚   â”‚   â”‚   â””â”€â”€ Settings.jsx       # Komponent ustawieÅ„
â”‚   â”œâ”€â”€ services/                  # UsÅ‚ugi backendu
â”‚   â”‚   â”œâ”€â”€ llm.js                 # ObsÅ‚uga modelu jÄ™zykowego
â”‚   â”‚   â”œâ”€â”€ stt.js                 # Rozpoznawanie mowy
â”‚   â”‚   â”œâ”€â”€ tts.js                 # Synteza mowy
â”‚   â”‚   â”œâ”€â”€ asciifier.js           # Generator ASCII art
â”‚   â”‚   â”œâ”€â”€ novncServer.js         # Serwer noVNC
â”‚   â”‚   â””â”€â”€ mediaManager.js        # ZarzÄ…dzanie mediami
â”‚   â”œâ”€â”€ ascii-animations/          # Szablony animacji ASCII
â”‚   â”‚   â”œâ”€â”€ talking.txt            # Animacja podczas mÃ³wienia
â”‚   â”‚   â”œâ”€â”€ listening.txt          # Animacja podczas sÅ‚uchania
â”‚   â”‚   â”œâ”€â”€ idle.txt               # Animacja w stanie bezczynnoÅ›ci
â”‚   â”‚   â””â”€â”€ thinking.txt           # Animacja podczas przetwarzania
â”‚   â””â”€â”€ infrastructure/            # ZarzÄ…dzanie infrastrukturÄ…
â”‚       â”œâ”€â”€ k3s.js                 # ObsÅ‚uga Kubernetes (K3s)
â”‚       â””â”€â”€ config.js              # Konfiguracja infrastruktury
â”œâ”€â”€ models/                        # Lokalne modele AI
â”‚   â”œâ”€â”€ llm/                       # Model jÄ™zykowy
â”‚   â”‚   â””â”€â”€ model.onnx             # Plik modelu ONNX
â”‚   â”œâ”€â”€ tts/                       # Model syntezy mowy
â”‚   â”‚   â””â”€â”€ model.bin              # Binarny plik modelu TTS
â”‚   â””â”€â”€ stt/                       # Model rozpoznawania mowy
â”‚       â””â”€â”€ model.bin              # Binarny plik modelu STT
â”œâ”€â”€ kubernetes/                    # Konfiguracja Kubernetes
â”‚   â””â”€â”€ deployment.yaml            # Manifest wdroÅ¼enia
â”œâ”€â”€ terraform/                     # Konfiguracja Terraform
â”‚   â””â”€â”€ main.tf                    # Definicja infrastruktury lokalnej
â”œâ”€â”€ ansible/                       # Konfiguracja Ansible
â”‚   â””â”€â”€ setup.yml                  # Playbook konfiguracyjny
â”œâ”€â”€ vendor/                        # ZewnÄ™trzne zaleÅ¼noÅ›ci
â”‚   â”œâ”€â”€ novnc/                     # Biblioteka noVNC
â”‚   â”‚   â”œâ”€â”€ vnc.html               # Strona HTML do wyÅ›wietlania ASCII
â”‚   â”‚   â””â”€â”€ core/                  # Komponenty noVNC
â”‚   â””â”€â”€ k3s/                       # Binaria K3s
â”œâ”€â”€ package.json                   # Konfiguracja projektu
â”œâ”€â”€ install.sh                     # Skrypt instalacyjny
â””â”€â”€ build.sh                       # Skrypt do budowania aplikacji
```

## Kluczowe pliki i ich zawartoÅ›Ä‡

### package.json
Konfiguracja projektu z wymaganymi zaleÅ¼noÅ›ciami.

### src/main.js
GÅ‚Ã³wny proces Electron, ktÃ³ry uruchamia aplikacjÄ™, inicjalizuje serwisy i zarzÄ…dza komunikacjÄ… IPC.

### src/preload.js
Skrypt mostka bezpieczeÅ„stwa miÄ™dzy procesem gÅ‚Ã³wnym a renderujÄ…cym.

### src/renderer/app.js
GÅ‚Ã³wny komponent React, ktÃ³ry zarzÄ…dza stanem aplikacji i renderuje komponenty.

### src/renderer/components/VideoChat.jsx
Komponent wyÅ›wietlajÄ…cy obraz z kamery uÅ¼ytkownika oraz animacjÄ™ ASCII dla bota.

### src/renderer/components/AsciiAnimation.jsx
Komponent Å‚Ä…czÄ…cy siÄ™ z serwerem noVNC i wyÅ›wietlajÄ…cy animacjÄ™ ASCII.

### src/services/novncServer.js
Serwer noVNC, ktÃ³ry generuje i przesyÅ‚a klatki animacji ASCII.

### src/services/llm.js, stt.js, tts.js
Serwisy odpowiedzialne za przetwarzanie jÄ™zyka, rozpoznawanie mowy i syntezÄ™ mowy.

### bin/start-app
Skrypt startowy uruchamiajÄ…cy aplikacjÄ™ Electron.

### vendor/novnc/vnc.html
Strona HTML obsÅ‚ugujÄ…ca wyÅ›wietlanie animacji ASCII w noVNC.

### ascii-animations/*.txt
Pliki zawierajÄ…ce klatki animacji ASCII dla rÃ³Å¼nych stanÃ³w bota.

## Kluczowe funkcjonalnoÅ›ci

1. Interfejs z podziaÅ‚em na dwa widoki (uÅ¼ytkownik i bot)
2. Rozpoznawanie i synteza mowy
3. Przetwarzanie jÄ™zyka naturalnego
4. Animowane ASCII art przez noVNC
5. Automatyczne rozpoczÄ™cie konwersacji
6. Historia rozmÃ³w
7. Panel ustawieÅ„
8. Infrastruktura Kubernetes do zarzÄ…dzania komponentami

## Konfiguracja RTSP Video

W plikach ÅºrÃ³dÅ‚owych znajdziesz:
- Komponent `RTSPVideoDescription` (React) â€“ formularz do podania adresu, loginu i hasÅ‚a do streamu.
- LogikÄ™ obsÅ‚ugi konfiguracji RTSP przez chat w pliku `app.js` (wykrywanie prÃ³Å›b uÅ¼ytkownika, zapisywanie konfiguracji).

Konfiguracja RTSP jest synchronizowana miÄ™dzy czatem a ustawieniami.

## Testowanie i walidacja

- Testy jednostkowe i E2E: `bash test.sh`
- Walidacja konfiguracji YAML: `yamllint kubernetes/ terraform/ ansible/`
- Walidacja plikÃ³w JSON: `jsonlint models/**/*.json --quiet`

## Instalacja i uruchamianie

- SzczegÃ³Å‚y w `README.md` oraz `docs/1.md`.
- Skrypt instalacyjny: `install.sh`
- Skrypt uruchomieniowy: `bin/start-app`
- Skrypt testowy: `test.sh`

## NajczÄ™stsze problemy

- Problemy z natywnymi moduÅ‚ami: brakujÄ…ce zaleÅ¼noÅ›ci systemowe â€“ patrz README.md.
- Problemy z Electron: usuÅ„ `node_modules` i uruchom ponownie `install.sh`.
- Problemy z npm: sprawdÅº logi w `~/.npm/_logs/`.